-- Servicios
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Variables
local savedPosition = nil
local noclip = false

-- Funci√≥n para activar/desactivar noclip (atravesar paredes)
game:GetService("RunService").Stepped:Connect(function()
	if noclip and character then
		for _, part in pairs(character:GetChildren()) do
			if part:IsA("BasePart") then
				part.CanCollide = false
			end
		end
	end
end)

-- Detectar teclas
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	
	-- Guardar posici√≥n (TP1 con tecla "P")
	if input.KeyCode == Enum.KeyCode.P then
		savedPosition = humanoidRootPart.Position
		print("üìå Posici√≥n guardada")
	end
	
	-- Teletransportarse a la posici√≥n guardada (TP2 con tecla "O")
	if input.KeyCode == Enum.KeyCode.O then
		if savedPosition then
			humanoidRootPart.CFrame = CFrame.new(savedPosition)
			print("‚ú® Teletransportado")
		else
			print("‚ö†Ô∏è No hay posici√≥n guardada")
		end
	end
	
	-- Activar/Desactivar atravesar paredes (Tras con tecla "T")
	if input.KeyCode == Enum.KeyCode.T then
		noclip = not noclip
		print("üö™ Noclip: " .. tostring(noclip))
	end
end)
